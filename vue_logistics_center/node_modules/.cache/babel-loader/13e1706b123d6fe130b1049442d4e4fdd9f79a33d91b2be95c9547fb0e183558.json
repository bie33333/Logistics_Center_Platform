{"ast":null,"code":"import { selectManagerByManagerId } from \"@/api/dashboard\";\nexport default {\n  data() {\n    return {\n      managerId: localStorage.getItem('managerId'),\n      manager: {},\n      workTime: \"\",\n      worker: \"\"\n    };\n  },\n  created() {\n    this.getManagerData();\n    const _this = this;\n    _this.timer = setInterval(() => {\n      _this.getWorkTime();\n    }, 1000);\n  },\n  methods: {\n    getWorkTime() {\n      let span = new Date(new Date() - new Date(this.manager.time));\n      let hour = span.getHours() - 8;\n      let minutes = span.getMinutes();\n      let seconds = span.getSeconds();\n      if (seconds < 10) {\n        seconds = \"0\" + seconds;\n      }\n      this.workTime = hour + \":\" + minutes + \":\" + seconds;\n    },\n    getManagerData() {\n      console.log(this.managerId);\n      selectManagerByManagerId({\n        managerId: this.managerId\n      }).then(res => {\n        this.manager = res.data;\n        this.getWorkTime();\n      });\n    }\n  }\n};","map":{"version":3,"names":["selectManagerByManagerId","data","managerId","localStorage","getItem","manager","workTime","worker","created","getManagerData","_this","timer","setInterval","getWorkTime","methods","span","Date","time","hour","getHours","minutes","getMinutes","seconds","getSeconds","console","log","then","res"],"sources":["src/components/page/dashboard/ManagerCard.vue"],"sourcesContent":["<template>\r\n    <el-card shadow=\"hover\" class=\"mgb20\">\r\n        <div class=\"user-info\">\r\n            <img src=\"../../../assets/img/admin.png\" class=\"manager-avatar\" alt/>\r\n            <div class=\"user-info-cont\">\r\n                <div class=\"user-info-name\">{{manager.name}}</div>\r\n                <div>{{manager.role}}</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"user-info-list\">管理员ID<span>{{manager.managerId}}</span></div>\r\n        <div class=\"user-info-list\">已工作时间<span>{{workTime}}</span></div>\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\nimport { selectManagerByManagerId } from \"@/api/dashboard\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            managerId: localStorage.getItem('managerId'),\r\n            manager: {},\r\n            workTime: \"\",\r\n            worker: \"\",\r\n        }\r\n    },\r\n    created() {\r\n        this.getManagerData();\r\n        const _this = this;\r\n        _this.timer = setInterval(()=>{\r\n            _this.getWorkTime();\r\n        },1000);\r\n    },\r\n    methods: {\r\n        getWorkTime(){\r\n            let span = new Date(new Date() - new Date(this.manager.time));\r\n            let hour = span.getHours() - 8;\r\n            let minutes = span.getMinutes();\r\n            let seconds = span.getSeconds();\r\n            if(seconds<10){ seconds =  \"0\"+seconds; }\r\n            this.workTime = hour + \":\" + minutes + \":\" + seconds;\r\n        },\r\n        getManagerData(){\r\n            console.log(this.managerId)\r\n            selectManagerByManagerId({\r\n                managerId: this.managerId\r\n            }).then(res=>{\r\n                this.manager = res.data;\r\n                this.getWorkTime()\r\n            })\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style>\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n \r\n.manager-avatar {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n</style>"],"mappings":"AAeA,SAAAA,wBAAA;AACA;EACAC,KAAA;IACA;MACAC,SAAA,EAAAC,YAAA,CAAAC,OAAA;MACAC,OAAA;MACAC,QAAA;MACAC,MAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,cAAA;IACA,MAAAC,KAAA;IACAA,KAAA,CAAAC,KAAA,GAAAC,WAAA;MACAF,KAAA,CAAAG,WAAA;IACA;EACA;EACAC,OAAA;IACAD,YAAA;MACA,IAAAE,IAAA,OAAAC,IAAA,KAAAA,IAAA,SAAAA,IAAA,MAAAX,OAAA,CAAAY,IAAA;MACA,IAAAC,IAAA,GAAAH,IAAA,CAAAI,QAAA;MACA,IAAAC,OAAA,GAAAL,IAAA,CAAAM,UAAA;MACA,IAAAC,OAAA,GAAAP,IAAA,CAAAQ,UAAA;MACA,IAAAD,OAAA;QAAAA,OAAA,SAAAA,OAAA;MAAA;MACA,KAAAhB,QAAA,GAAAY,IAAA,SAAAE,OAAA,SAAAE,OAAA;IACA;IACAb,eAAA;MACAe,OAAA,CAAAC,GAAA,MAAAvB,SAAA;MACAF,wBAAA;QACAE,SAAA,OAAAA;MACA,GAAAwB,IAAA,CAAAC,GAAA;QACA,KAAAtB,OAAA,GAAAsB,GAAA,CAAA1B,IAAA;QACA,KAAAY,WAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}