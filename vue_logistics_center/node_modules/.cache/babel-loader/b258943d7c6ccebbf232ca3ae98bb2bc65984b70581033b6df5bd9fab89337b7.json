{"ast":null,"code":"import { userLogin } from \"@/js/login\";\nexport default {\n  data() {\n    return {\n      param: {\n        role: '',\n        id: '',\n        password: ''\n      },\n      rules: {\n        managerId: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    submitForm() {\n      if (this.param.role == \"manager\") {\n        this.handleManagerLogin();\n      } else if (this.param.role == \"user\") {\n        this.handleUserLogin();\n      } else {\n        this.$message('请选择角色');\n      }\n    },\n    handleManagerLogin() {\n      managerLogin(this.param).then(res => {\n        if (res.status == 200) {\n          if (res.data) {\n            this.$message.success('登录成功');\n            localStorage.setItem('managerId', this.param.id);\n            // this.$router.push('/index/dashboard');\n          } else {\n            this.$message.error('登录失败');\n          }\n        } else {\n          this.$message.error('服务器错误');\n        }\n      });\n    },\n    handleUserLogin() {\n      memberLogin(this.param).then(res => {\n        if (res.status == 200) {\n          if (res.data) {\n            this.$message.success('登录成功');\n            localStorage.setItem('memberId', this.param.id);\n            // this.$router.push('/memberView');\n          } else {\n            this.$message.error('登录失败');\n          }\n        } else {\n          this.$message.error('服务器错误');\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["userLogin","data","param","role","id","password","rules","managerId","required","message","trigger","methods","submitForm","handleManagerLogin","handleUserLogin","$message","managerLogin","then","res","status","success","localStorage","setItem","error","memberLogin"],"sources":["src/components/page/Login.vue"],"sourcesContent":["<template>\r\n    <div class=\"login-wrap\">\r\n        <div class=\"ms-login\">\r\n            <div class=\"ms-title\">企业物流中心平台</div>\r\n            <el-form :model=\"param\" :rules=\"rules\" ref=\"login\" label-width=\"0px\" class=\"ms-content\">\r\n                <el-form-item>\r\n                    <el-select v-model=\"param.role\" clearable placeholder=\"登录角色\">\r\n                    <el-option key=\"0\" label=\"manager\" value=\"manager\"></el-option>\r\n                    <el-option key=\"1\" label=\"user\" value=\"user\"></el-option>\r\n                </el-select>\r\n                </el-form-item>\r\n                <el-form-item prop=\"username\">\r\n                    <el-input v-model=\"param.id\" placeholder=\"username\">\r\n                        <el-button slot=\"prepend\" icon=\"el-icon-lx-people\"></el-button>\r\n                    </el-input>\r\n                </el-form-item>\r\n                \r\n                <el-form-item prop=\"password\">\r\n                    <el-input type=\"password\" placeholder=\"password\" v-model=\"param.password\" @keyup.enter.native=\"submitForm()\">\r\n                        <el-button slot=\"prepend\" icon=\"el-icon-lx-lock\"></el-button>\r\n                    </el-input>\r\n                </el-form-item>\r\n                <div class=\"login-btn\">\r\n                    <el-button type=\"primary\" @click=\"submitForm()\">登录</el-button>\r\n                </div>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { userLogin } from \"@/js/login\";\r\nexport default {\r\n    data() {\r\n        return {\r\n            param: {\r\n                role: '',\r\n                id: '',\r\n                password: '',\r\n            },\r\n            rules: {\r\n                managerId: [{ required: true, message: '请输入用户名', trigger: 'blur' }],\r\n                password: [{ required: true, message: '请输入密码', trigger: 'blur' }],\r\n            },\r\n        };\r\n    },\r\n    methods:{\r\n        submitForm(){\r\n            if (this.param.role == \"manager\") {\r\n                this.handleManagerLogin();\r\n            }else if(this.param.role == \"user\"){\r\n                this.handleUserLogin();\r\n            }else{\r\n                this.$message('请选择角色');\r\n            }\r\n            \r\n        },\r\n        handleManagerLogin(){\r\n            managerLogin(this.param).then(res=>{\r\n                if(res.status==200) {\r\n                    if(res.data){\r\n                        this.$message.success('登录成功');\r\n                        localStorage.setItem('managerId', this.param.id);\r\n                        // this.$router.push('/index/dashboard');\r\n                    } \r\n                    else{\r\n                        this.$message.error('登录失败');\r\n                    }\r\n                }else{\r\n                    this.$message.error('服务器错误');\r\n                }\r\n            })\r\n        },\r\n        handleUserLogin(){\r\n            memberLogin(this.param).then(res=>{\r\n                if(res.status==200) {\r\n                    if(res.data){\r\n                        this.$message.success('登录成功');\r\n                        localStorage.setItem('memberId', this.param.id);\r\n                        // this.$router.push('/memberView');\r\n                    } \r\n                    else{\r\n                        this.$message.error('登录失败');\r\n                    }\r\n                }else{\r\n                    this.$message.error('服务器错误');\r\n                }\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n.login-wrap {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 100%;\r\n    /* background-image: url(../../assets/img/login-bg.jpg); */\r\n    background-size: 100%;\r\n}\r\n.ms-title {\r\n    width: 100%;\r\n    line-height: 50px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    color: #000000;\r\n    border-bottom: 1px solid #ddd;\r\n}\r\n.ms-login {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: 50%;\r\n    width: 350px;\r\n    margin: -190px 0 0 -175px;\r\n    border-radius: 5px;\r\n    background: rgba(255, 255, 255, 0.3);\r\n    overflow: hidden;\r\n}\r\n.ms-content {\r\n    padding: 30px 30px;\r\n}\r\n.login-btn {\r\n    text-align: center;\r\n}\r\n.login-btn button {\r\n    width: 100%;\r\n    height: 36px;\r\n    margin-bottom: 10px;\r\n}\r\n.login-tips {\r\n    font-size: 12px;\r\n    line-height: 30px;\r\n    color: #000000;\r\n}\r\n</style>"],"mappings":"AA+BA,SAAAA,SAAA;AACA;EACAC,KAAA;IACA;MACAC,KAAA;QACAC,IAAA;QACAC,EAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAC,SAAA;UAAAC,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAL,QAAA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,WAAA;MACA,SAAAV,KAAA,CAAAC,IAAA;QACA,KAAAU,kBAAA;MACA,gBAAAX,KAAA,CAAAC,IAAA;QACA,KAAAW,eAAA;MACA;QACA,KAAAC,QAAA;MACA;IAEA;IACAF,mBAAA;MACAG,YAAA,MAAAd,KAAA,EAAAe,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACA,IAAAD,GAAA,CAAAjB,IAAA;YACA,KAAAc,QAAA,CAAAK,OAAA;YACAC,YAAA,CAAAC,OAAA,mBAAApB,KAAA,CAAAE,EAAA;YACA;UACA,OACA;YACA,KAAAW,QAAA,CAAAQ,KAAA;UACA;QACA;UACA,KAAAR,QAAA,CAAAQ,KAAA;QACA;MACA;IACA;IACAT,gBAAA;MACAU,WAAA,MAAAtB,KAAA,EAAAe,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,MAAA;UACA,IAAAD,GAAA,CAAAjB,IAAA;YACA,KAAAc,QAAA,CAAAK,OAAA;YACAC,YAAA,CAAAC,OAAA,kBAAApB,KAAA,CAAAE,EAAA;YACA;UACA,OACA;YACA,KAAAW,QAAA,CAAAQ,KAAA;UACA;QACA;UACA,KAAAR,QAAA,CAAAQ,KAAA;QACA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}